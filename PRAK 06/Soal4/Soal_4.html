<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2373034-Jesye Octavia Nainggolan</title>
    <style>
        table {
            color: blue;
            font-weight: bold;
            font-family: Arial, Helvetica, sans-serif;
            text-align: right;
        }
        td {
            padding: 6px;
        }
        button {
            color: blue;
            font-weight: bold;
            font-family: Arial, Helvetica, sans-serif;
        }
    </style>
</head>

<body>
    <table border="2px" cellpadding="5px" cellspacing="3px">
        <tr>
            <td>Input :</td>
            <td><input type="text" id="input"></td>
        </tr>
        <tr>
            <td>Output :</td>
            <td><input type="text" id="output" readonly></td>
        </tr>
        <tr>
            <td colspan="2">
                <center>
                <select id="koversiKe">
                    <option value="db">decimal-biner</option>
                    <option value="bd">biner-decimal</option>
                </select>
                </center>
            </td>
        </tr>
        <tr>
            <td colspan="2" id="tombolAtur">
                <center>
                <button onclick="konversi()">PROSES</button>
                <button onclick="reset()">RESET</button>
                </center>
            </td>
        </tr>
    </table>

    <script>
        function konversi() {
            let input = document.getElementById("input").value;
            let koversiKe = document.getElementById("koversiKe").value;
            let outputNya = document.getElementById("output");
                if (koversiKe === "db") {
                    let angka = parseInt(input);
                    if (angka < 0 || angka > 255 || isNaN(angka)) {
                        alert("Masukkan angka 0-255!");
                        return;
                    }
                    outputNya.value = angka.toString(2).padStart(8, '0');
                } else if (koversiKe === "bd") {
                    let desimal = 0;
                    let pangkatDua = 1; // krn nilai awal posisi paling kanan biner (2^0 = 1)
                    for (let i = input.length - 1; i >= 0; i--) {
                        if (input[i] !== '0' && input[i] !== '1') {
                            alert("Masukkan bilangan biner maksimal 8 digit antara angka 0 atau 1");
                            return;
                        }
                            if (input[i] === '1') {
                                desimal += pangkatDua;
                            } else {
                                desimal += 0;
                            }
                            pangkatDua *= 2;
                    }
                    outputNya.value = desimal;
                }
            }
            
            function reset() {
                document.getElementById("input").value = "";
                document.getElementById("output").value = "";
            }
    </script>
</body>
</html>